/**
 * jQuery Plugin for fetching row from database
 * @requires jQuery 1.4 or later
 *
 * Copyright (c) 2015 Lucky
 * Licensed under the GPL license:
 *   http://www.gnu.org/licenses/gpl.html
 */
 
(function(b){function a(e,d){var f=this;this.preventEnter=function(){d.keypress(function(g){if(g.keyCode==13){return false}return true})};this.doRequest=function(){b.ajax({url:e.url+d.val(),success:function(g){try{data=b.parseJSON(g);if(typeof e.onPopulated==="function"){if(data==null){if(typeof e.onNullPopulated==="function"){e.onNullPopulated.call(this,d)}}else{e.onPopulated.call(this,data,d)}}}catch(h){alert("Sorry, an error has occured!")}},error:function(i,g,h){alert("Sorry, an error has occured!")}})};var c=e.trigger.split("|");switch(c[0]){case"keypress":d.keyup(function(g){if(g.keyCode==c[1]){f.doRequest()}});d.attr("autocomplete","off");this.preventEnter();break;case"blur":d.blur(function(g){f.doRequest()});break;case"change":d.change(function(g){f.doRequest()});break}}b.fn.fetchrow=function(c){var d={onPopulated:null,onNullPopulated:null,trigger:"keypress|13"};b.extend(d,c);return this.each(function(){var e=new a(d,b(this))})}})(jQuery);